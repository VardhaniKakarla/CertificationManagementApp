<template>
  <lightning-card
    title="Welcome to Employee Certifications App..!!!"
    icon-name="custom:custom14"
  >
    <div class="slds-m-around_medium">
      <p>Hola!, User</p>

      <lightning-button-group>
        <lightning-button
          label="Add New Employee"
          onclick={empform}
        ></lightning-button>
        <lightning-button
          label="Add New Certification"
          onclick={certform}
        ></lightning-button>
        <lightning-button
          label="Add New Voucher"
          onclick={vouform}
        ></lightning-button>
      </lightning-button-group>
      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
      <lightning-button-group>
        <lightning-button
          label="View All Employees"
          onclick={viewemps}
        ></lightning-button>
        <lightning-button
          label="View All Certifications"
          onclick={viewcerts}
        ></lightning-button>
        <lightning-button
          label="View All Vouchers"
          onclick={viewvous}
        ></lightning-button>
      </lightning-button-group>
    </div>
  </lightning-card>




  <template if:true={viewempflag}>
    <section
      role="dialog"
      tabindex="-1"
      aria-label="Meaningful description of the modal content"
      aria-modal="true"
      aria-describedby="modal-content-id-1"
      class="slds-modal slds-fade-in-open"
    >
      <div class="slds-modal__container">
        <header class="slds-modal__header slds-modal__header_empty">
          <button
            class="slds-button slds-button_icon slds-modal__close slds-button_icon-inverse"
            title="Close"
          >
            <span class="slds-assistive-text">Close</span>
          </button>
          <p> Employees List</p>
        </header>
        <div
          class="slds-modal__content slds-p-around_medium"
          id="modal-content-id-1">
          <template for:each={Employees} for:item="employee" for:index="i">
            <lightning-card key={abc}>
                <p> Employee Id : {employee.Name} Employee Name : {employee.Emp_Name__c} Email : {employee.Email__c} </p>
            </lightning-card>
        </template>
        </div>
        <footer class="slds-modal__footer">
          <button class="slds-button slds-button_neutral" onclick={closepopup}>
            Close
          </button>
        </footer>
      </div>
    </section>
    <div class="slds-backdrop slds-backdrop_open"></div>
  </template>

  <!--Pop Up for creating New Certificate-->
  <template if:true={viewcertflag}>
    <section
      role="dialog"
      tabindex="-1"
      aria-label="Meaningful description of the modal content"
      aria-modal="true"
      aria-describedby="modal-content-id-1"
      class="slds-modal slds-fade-in-open"
    >
      <div class="slds-modal__container">
        <header class="slds-modal__header slds-modal__header_empty">
          <button
            class="slds-button slds-button_icon slds-modal__close slds-button_icon-inverse"
            title="Close"
          >
            <svg
              class="slds-button__icon slds-button__icon_large"
              aria-hidden="true"
            >
              <use
                xlink:href="/assets/icons/utility-sprite/svg/symbols.svg#close"
              ></use>
            </svg>
            <span class="slds-assistive-text">Close</span>
          </button>
          <p>Certifications List</p>
        </header>
        <div
          class="slds-modal__content slds-p-around_medium"
          id="modal-content-id-2"
        >
        <template for:each={Certifications} for:item="certification" for:index="i">
          <lightning-card key={abc}>
              <p>Certification Id : {certification.Name} Certification Name : {certification.Certificate_Name__c}  Cost : {certification.Certification_Cost__c} </p>
          </lightning-card>
      </template>
        </div>
        <footer class="slds-modal__footer">
          <button class="slds-button slds-button_neutral" onclick={closepopup}>
            Close
          </button>
        </footer>
      </div>
    </section>
    <div class="slds-backdrop slds-backdrop_open"></div>
  </template>

  <!--Pop Up for creating New Voucher-->
  <template if:true={viewvouflag}>
    <section
      role="dialog"
      tabindex="-1"
      aria-label="Meaningful description of the modal content"
      aria-modal="true"
      aria-describedby="modal-content-id-1"
      class="slds-modal slds-fade-in-open"
    >
      <div class="slds-modal__container">
        <header class="slds-modal__header slds-modal__header_empty">
          <button
            class="slds-button slds-button_icon slds-modal__close slds-button_icon-inverse"
            title="Close"
          >
            <svg
              class="slds-button__icon slds-button__icon_large"
              aria-hidden="true"
            ></svg>
              <use
                xlink:href="/assets/icons/utility-sprite/svg/symbols.svg#close"
              ></use>
            </svg>
            <span class="slds-assistive-text">Close</span>
          </button>
          <p>Vouchers List</p>
        </header>

        
        <div
          class="slds-modal__content slds-p-around_medium"
          id="modal-content-id-3"
        >
        <template for:each={Vouchers} for:item="voucher" for:index="i">
          <lightning-card key={abc}>
              <p>Voucher Id : {voucher.Name}  Voucher Certification : {voucher.Certification__c} Active : {voucher.Active__c} </p>
          </lightning-card>
      </template>
        </div>

        <footer class="slds-modal__footer">
          <button class="slds-button slds-button_neutral" onclick={closepopup}>
            Close
          </button>
          
        </footer>
      </div>
    </section>
    <div class="slds-backdrop slds-backdrop_open"></div>
  </template>












  <template if:true={empflag}>
    <section
      role="dialog"
      tabindex="-1"
      aria-label="Meaningful description of the modal content"
      aria-modal="true"
      aria-describedby="modal-content-id-1"
      class="slds-modal slds-fade-in-open"
    >
      <div class="slds-modal__container">
        <header class="slds-modal__header slds-modal__header_empty">
          <button
            class="slds-button slds-button_icon slds-modal__close slds-button_icon-inverse"
            title="Close"
          >
            <!--<svg class="slds-button__icon slds-button__icon_large" aria-hidden="true">
            <use xlink:href="/assets/icons/utility-sprite/svg/symbols.svg#close"></use>
            </svg>-->
            <span class="slds-assistive-text">Close</span>
          </button>
          <p>New Employee form</p>
        </header>
        <div
          class="slds-modal__content slds-p-around_medium"
          id="modal-content-id-4"
        >
          <lightning-input
            label="Employee Id"
            value={EmpId}
            type="String"
            required
            onchange={EmpIdChange}
          ></lightning-input>
          <lightning-input
            label="Employee Name"
            value={EmpName}
            type="String"
            required
            onchange={EmpNameChange}
          ></lightning-input>
          <lightning-input
            label="Employee Email"
            value={EmpMail}
            type="Email"
            required
            onchange={EmpMailChange}
          ></lightning-input>
          <lightning-input
            label="Primary Skill"
            value={EmpPS}
            type="String"
            required
            onchange={EmpPSChange}
          ></lightning-input>
          <lightning-input
            label="Secondary Skill"
            value={EmpSS}
            type="String"
            onchange={EmpSSChange}
          ></lightning-input>
          <lightning-input
            label="Employee Experience"
            value={EmpExp}
            type="String"
            required
            onchange={EmpExpChange}
          ></lightning-input>
          <lightning-input
            label="Comments"
            value={EmpComm}
            type="Text"
            onchange={EmpCommChange}
          ></lightning-input>
        </div>
        <footer class="slds-modal__footer">
          <button class="slds-button slds-button_neutral" onclick={closepopup}>
            Cancel
          </button>
          <button class="slds-button slds-button_brand" onclick={addemp}>
            Add
          </button>
        </footer>
      </div>
    </section>
    <div class="slds-backdrop slds-backdrop_open"></div>
  </template>

  <!--Pop Up for creating New Certificate-->
  <template if:true={certflag}>
    <section
      role="dialog"
      tabindex="-1"
      aria-label="Meaningful description of the modal content"
      aria-modal="true"
      aria-describedby="modal-content-id-1"
      class="slds-modal slds-fade-in-open"
    >
      <div class="slds-modal__container">
        <header class="slds-modal__header slds-modal__header_empty">
          <button
            class="slds-button slds-button_icon slds-modal__close slds-button_icon-inverse"
            title="Close"
          >
            <svg
              class="slds-button__icon slds-button__icon_large"
              aria-hidden="true"
            >
              <use
                xlink:href="/assets/icons/utility-sprite/svg/symbols.svg#close"
              ></use>
            </svg>
            <span class="slds-assistive-text">Close</span>
          </button>
          <p>New Certification form</p>
        </header>
        <div
          class="slds-modal__content slds-p-around_medium"
          id="modal-content-id-5"
        >
          <lightning-input
            label="Certification Id"
            value={CertId}
            type="String"
            required
            onchange={CertIdChange}
          ></lightning-input>
          <lightning-input
            label="Certification Name"
            value={CertName}
            type="String"
            required
            onchange={CertNameChange}
          ></lightning-input>
          <lightning-input
            label="Certification Cost"
            value={CertCost}
            type="Number"
            required
            onchange={CertCostChange}
          ></lightning-input>
          <lightning-input
            label="Certification Comments"
            value={CertComm}
            type="Text"
            onchange={CertCommChange}
          ></lightning-input>
        </div>
        <footer class="slds-modal__footer">
          <button class="slds-button slds-button_neutral" onclick={closepopup}>
            Cancel
          </button>
          <button class="slds-button slds-button_brand" onclick={addcert}>
            Add
          </button>
        </footer>
      </div>
    </section>
    <div class="slds-backdrop slds-backdrop_open"></div>
  </template>

  <!--Pop Up for creating New Voucher-->
  <template if:true={vouflag}>
    <section
      role="dialog"
      tabindex="-1"
      aria-label="Meaningful description of the modal content"
      aria-modal="true"
      aria-describedby="modal-content-id-1"
      class="slds-modal slds-fade-in-open"
    >
      <div class="slds-modal__container">
        <header class="slds-modal__header slds-modal__header_empty">
          <button
            class="slds-button slds-button_icon slds-modal__close slds-button_icon-inverse"
            title="Close"
          >
            <svg
              class="slds-button__icon slds-button__icon_large"
              aria-hidden="true"
            ></svg>
              <use
                xlink:href="/assets/icons/utility-sprite/svg/symbols.svg#close"
              ></use>
            </svg>
            <span class="slds-assistive-text">Close</span>
          </button>
          <p>New Voucher form</p>
        </header>

        
        <div
          class="slds-modal__content slds-p-around_medium"
          id="modal-content-id-6"
        >
          <!-- <lightning-input
            label="Voucher Id"
            value={VouId}
            type="String"
            minlength="10"
            maxlength="10"
            message-when-bad-input="Id should be 10 characters long."
            required
            onchange={VouIdChange}
          ></lightning-input> -->
          <lightning-input
            label="Voucher Cost"
            value={VouCost}
            type="Number"
            required
            onchange={VouCostChange}
          ></lightning-input>
          <lightning-input
            label="Voucher Validity"
            value={VouValid}
            type="date"
            required
            onchange={VouValidChange}
          ></lightning-input>
          <c-certlookupcomponent
            object-name="Certification__c"
            field-name="Name"
            label="Certification"
            parentidfield="Certification__c"
            onselect={handleAutoSelect}
            iconname="standard:account"
          ></c-certlookupcomponent>

          <lightning-input
            label="Voucher Comments"
            value={VouComm}
            type="Text"
            onchange={VouCommChange}
          ></lightning-input>
        </div>

        <footer class="slds-modal__footer">
          <button class="slds-button slds-button_neutral" onclick={closepopup}>
            Cancel
          </button>
          <button class="slds-button slds-button_brand" onclick={addvou}>
            Add
          </button>
        </footer>
      </div>
    </section>
    <div class="slds-backdrop slds-backdrop_open"></div>
  </template>
</template>
